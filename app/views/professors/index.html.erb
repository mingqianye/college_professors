<h1>Listing professors</h1>

<p id="notice"><%= notice %></p>

<%= search_form_for @q do |f| %>
    <%= f.label 'Filter by name' %>
    <%= f.search_field :name_cont %>
    <%= f.submit %>
<% end %>

<table>
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th><%= sort_link(@q, :count_of_subjects, 'No. of subjects') %></th>
    <th>Edit</th>
    <th>Destroy</th>
    <th>Add a subject</th>
  </tr>
  <% @professors.each do |professor| %>
      <tr>
        <td><%= professor.id %></td>
        <td class='name' title=''><%= professor.name %></td>
        <td><%= professor.subjects.size %></td>
        <td><%= link_to 'Edit', edit_professor_path(professor) %></td>
        <td><%= link_to 'Destroy', professor, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <td><%= link_to 'Add a subject', new_professor_subject_path(professor) %></td>
        <td><%= link_to 'Show all subjects', professor_subjects_path(professor) %></td>
        <td><%= link_to "Add a Ta", new_ta_path %></td>
        <td><%= link_to "Show all Tas", tas_path %></td>
      </tr>
  <% end %>
</table>

<br />

<%= link_to 'New Professor', new_professor_path %> |
<%= link_to 'Add global subject', new_global_subject_path %>
